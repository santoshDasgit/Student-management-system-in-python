{% extends 'header.html' %}
{% load simpletag %}
{% block body %}
<section class='index my-5'>
    <div class="row admin">
        <div class="col-12">
            <h1>Star student </h1>

            <span>Student</span><span class='mx-2'>/</span><span class='text-secondary'> Star student</span>

        </div>
    </div>
</section>

<section>
    {% hod_or_not_check request.user as hod %}
    {% if hod %}
    <form action="" method="post">
        {% include "msg.html" %}
        {% csrf_token %}
        <div class="input-group mb-3">
            <input type="number" class="form-control" placeholder="student reg no" aria-label="Recipient's username"
                aria-describedby="basic-addon2" name='reg_inp'>
            <button type="submit" class=" btn btn-outline-primary">Save</button>
        </div>
    </form>
    {% else %}
    {% endif %}
</section>

<section>
    <h3>Department students</h3>
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Reg no</th>
                <th scope="col">Name</th>
                <th scope="col">Course </th>
                <th scope="col">Branch</th>
                <th scope="col">Sem</th>
                {% if hod %}
                <th scope="col">Remove</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for i in branch %}
            <tr>
                <th scope="row">{{i.user.admin.username}}</th>
                <td>{{i.user.admin.first_name|capfirst}} {{i.user.admin.last_name}}</td>
                <td>{{i.user.course.name}}</td>
                <td>{{i.user.branch.name}}</td>
                <td>{{i.user.semester.name}}</td>
                {% if hod %}

                <td><button type="button" class="btn btn-outline-danger" data-bs-toggle="modal"
                        data-bs-target="#exampleModal{{i.id}}">
                        Remove
                    </button></td>

                <!-- Modal -->
                <div class="modal fade" id="exampleModal{{i.id}}" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">{{i.user.admin.first_name|capfirst}} {{i.user.admin.last_name}}</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <span class='text-danger'>Conform remove</span>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                               <a href="{% url 'teacher_star_student_remove' i.id %}" class='btn btn-danger'>Remove</a>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>

</section>



<section>
    <h3>Star students</h3>
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Reg no</th>
                <th scope="col">Name</th>
                <th scope="col">Course </th>
                <th scope="col">Branch</th>
                <th scope="col">Sem</th>

            </tr>
        </thead>
        <tbody>
            {% for i in data %}
            <tr>
                <th scope="row">{{i.user.admin.username}}</th>
                <td>{{i.user.admin.first_name|capfirst}} {{i.user.admin.last_name}}</td>
                <td>{{i.user.course.name}}</td>
                <td>{{i.user.branch.name}}</td>
                <td>{{i.user.semester.name}}</td>

            </tr>
            {% endfor %}
        </tbody>
    </table>

</section>
{% endblock body %}
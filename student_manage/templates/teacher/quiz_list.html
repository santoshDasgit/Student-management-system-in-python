{% extends "header.html" %}

{% block body %}
<section class='index my-3 '>
  <div class="row admin ">
    <div class="col-6 col-md-8">
      <h1>Quiz</h1>

      <span>
        <span>Quiz / <span class="text-secondary">Quiz List</span></span>
      </span>

    </div>
    <div class="col-6 col-md-2 mt-3 ">
      <a href="{% url 'quiz_add' %}" class="btn btn-primary"> Quiz add </a>

    </div>
  </div>
</section>
<button class='btn btn-outline-success'>Total result : {{data.count}}</button>
<div class="row">
  {% include "msg.html" %}
  {% for i in data %}
  <div class="col-sm-6 my-2">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">{{i.topic|capfirst}}</h5>
        <ul>
          <li><b>Teacher : </b><span class='text-success'>{{i.name.admin.first_name|capfirst}}
              {{i.name.admin.last_name}}</span></li>
          <li><b>Topic : </b><span class='text-success'>{{i.topic|capfirst}}</span></li>
          <li><b>Course : </b><span class='text-success'>{{i.course.name|capfirst}}</span></li>
          <li><b>Branch : </b><span class='text-success'>{{i.branch.name|capfirst}}</span></li>
          <li><b>Semester : </b><span class='text-success'>{{i.sem.name|capfirst}} Sem</span></li>
          <li><b>Total question : </b><span class='text-success'>{{i.num_of_qn}}</span></li>
          <li><b>Time durection : </b><span class='text-success'>{{i.time_duration}} min</span></li>
          <li><b>Pass mark : </b><span class='text-success'>{{i.pass_mark}}%</span></li>
          <li><b>Difficulty : </b><span class='text-success'>{{i.difficulty|capfirst}}</span></li>
          <li><b>Exam start status : </b><span class='{% if i.show_qn %}text-primary {% else %} text-danger{% endif %}'>{{i.show_qn|capfirst}}</span></li>
          <li><b>Exam result status : </b><span class='{% if i.show_ans %}text-primary {% else %} text-danger{% endif %}'>{{i.show_res|capfirst}}</span></li>
        </ul>
        <a href="{% url 'quiz_edit' i.id %}" class="btn btn-success">Edit</a>

        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal{{forloop.counter}}">
          Delete
        </button>
        <a href="{% url 'quiz_qn_add' i.id %}" class="btn btn-primary">Start</a>
        <a href="{% url 'quiz_result_view' i.id %}">View Result</a>   
       


        <!-- Modal -->
        <div class="modal fade" id="exampleModal{{forloop.counter}}" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">{{i.topic|capfirst}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <span class="text-danger">
                  <h5>Conform remove</h5>
                </span>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <a href="{% url 'quiz_delete' i.id %}" class="btn btn-danger">Delete</a>
              </div>
            </div>
          </div>
        </div>




      </div>
    </div>
  </div>
  {% empty %}
  <marquee behavior="" direction="">
    <p class="text-danger">Empty Quiz</p>
  </marquee>
  {% endfor %}

</div>
{% endblock body %}
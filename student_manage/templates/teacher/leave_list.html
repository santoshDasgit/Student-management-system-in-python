{% extends "header.html" %}

{% block body %}
<section class='index my-3 '>
    <div class="row admin ">
        <div class="col-6 col-md-8">
            <h1>Teacher</h1>

            <span>
                <span>Leave / <span class="text-secondary">Leave List</span></span>
            </span>

        </div>
        <div class="col-6 col-md-2 mt-3 ">
            <a href="{% url 'teacher_leave_apply' %}" class="btn btn-primary"> apply leave <i class="fas fa-plus ml-2"></i></a>

        </div>
    </div>
</section>

<span class='text-success border border-success p-1'>Total result : {{data.count}} </span>
<div class="row">
    <div class="col-12">
        <form action="" class='form-inline' method="post">
            {% csrf_token %}
            <select name="filter" class="form-control my-2 form-group w-md-25" id='search_input'>
              <option value="">filter</option>
              <option value='none'>Pending</option>
              <option value='false'>Reject</option>
              <option value='true'>Accept</option>
            </select>
            <button class='form-group btn btn-primary ml-2 '  type="submit">Search</button>
        </form>


    </div>
</div>

<table class="table table-striped  table-hover">
  <thead>
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Title</th>
      <th scope="col">Apply date</th>
      <th scope="col">Status</th>
      <th scope="col">Handle</th>
    </tr>
  </thead>
  <tbody>
      {% for i in data %}
      <tr>
          <th scope="row">{{i.id}}</th>
          <td>{{i.title|capfirst}}</td>
          <td>{{i.date}} </td>
          <td>
            {% if i.status is None %}
            Pending..
            {% elif i.status %}
            <span class='text-primary'><i class="fa-sharp fa-solid fa-check mr-1"></i> Accepted</span>
            {% else %}
            <span class='text-danger'><i class="fa-sharp fa-solid fa-not-equal mr-1"></i> Rejected</span>
            {% endif %}

          </td>
          <td>
              <div class="row ">
                 
              
                  <div class="col-6 col-md-3">
                      <a href="{% url 'teacher_view_leave' i.id %}" class="btn btn-sm btn-primary bg-success-light mr-1">Views</a>
                  </div>
                  <div class="col-6 col-md-2"> <button type="button" class="btn btn-sm btn-danger bg-success-light mr-1" data-toggle="modal" data-target="#exampleModalCenter{{forloop.counter}}">
                      <i class="fas fa-trash"></i>
                        </button></div>


                          <div class="modal fade" id="exampleModalCenter{{forloop.counter}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLongTitle">{{i.title}}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <span class='text-danger'>Conform remove</span>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <a href="{% url 'teacher_leave_list_remove' i.id %}" type="button" class="btn btn-danger">Remove</a>
                                  </div>
                                </div>
                              </div>
                            </div>

                      
              </div>
          </td>
        </tr>
        {% empty %}
        <marquee behavior="" direction=""><p class='text-danger'>No leave result found</p></marquee>
      {% endfor %}
   
   
  </tbody>
</table>
{% endblock body %}